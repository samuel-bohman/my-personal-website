---
title: "Create train and test sets for time series in R"
author: Samuel Bohman
date: '2018-10-04'
slug: create-train-and-test-sets-for-time-series-in-r
categories: []
tags:
  - r
  - time series
  - forecasting
summary: "Prepare a train and a test set for time series with the forecast package."
---

The [forecast](http://pkg.robjhyndman.com/forecast/) package by Rob Hyndman supports since version 8.0 `head` and `tail` for time series. This enables a very handy mechanism for creating train and test sets without the `window` or the `subset` function. All you have to do is provide the size of the train set, as exemplified below with the built-in AirPassengers dataset. 

```{r}
library(forecast)
train1 <- head(AirPassengers, round(length(AirPassengers) * 0.8))
h1 <- length(AirPassengers) - length(train1)
test1 <- tail(AirPassengers, h1)
```

Alternatively, you can provide the length of the forecast horizon:

```{r}
h2 <- 29L
train2 <- head(AirPassengers, round(length(AirPassengers) - h2))
test2 <- tail(AirPassengers, h2)
```

```{r}
identical(train1, train2)
identical(test1, test2)
identical(h1, h2)
```

```{r}
train1
```

```{r}
test1
```

```{r}
autoplot(train1) + autolayer(test1)
```

## Links

[https://robjhyndman.com/hyndsight/forecast8/](https://robjhyndman.com/hyndsight/forecast8/)

[https://otexts.org/fpp2/accuracy.html](https://otexts.org/fpp2/accuracy.html)
